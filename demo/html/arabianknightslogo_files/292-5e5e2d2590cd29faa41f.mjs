(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[292],{"3vRR":function(e,n,i){var o=i("n6mq"),t=i("nKUr");n.a=({children:e})=>Object(t.jsx)(o.e,{width:"100%",role:"list",children:e})},"6wCo":function(e,n,i){var o=i("JW66"),t=i("ENn1"),a=i("ynlw"),r=i("Hrat"),s=i("q1tI"),c=i("/MKj"),d=i("Nle8"),l=i("Ye/N"),p=i("TgLd"),m=i("GBVV"),b=i("4cpq"),u=i("M1Uz"),h=i("eOdZ");var j=i("U4JR"),w=i("nGHF"),f=i("n6mq"),g=i("nKUr");var x=Object(c.connect)(null,e=>({deletePinSponsorship:n=>e(function(e){return async n=>{await h.a.create("SponsoredPinResource",{pinId:e}).callDelete(),n(function(e){return{type:"DELETE_PIN_SPONSORSHIP",payload:{pinId:e}}}(e))}}(n))}))((function({deletePinSponsorship:e,onDeletePinSponsorship:n,onDismiss:i,pinId:o}){const{showOneToast:t}=Object(w.b)(),[a,r]=Object(s.useState)(!1),c=e=>{r(!1),Object(j.b)(101,{view:3,element:12114,component:230,pin_id:o}),t(({onHide:n})=>Object(g.jsx)(u.a,{onHide:n,text:e?l.a._("Something went wrong!","closeup.pinActionDropdown.toastAfterDeletingHasErrors","Pinterest ran into errors while deleting paid sponsorship"):l.a._("Removed!","closeup.pinActionDropdown.toastAfterDeleting","User deleted their paid partnership")}))};return Object(g.jsx)(p.b,{heading:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeading","Heading for modal that confirms user wants to delete their partnership"),accessibilityModalLabel:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeadingLabel","Heading for modal that confirms user wants to delete their partnership"),size:"sm",onDismiss:i,footer:Object(g.jsxs)(f.e,{display:"flex",justifyContent:"center",marginStart:-1,marginEnd:-1,children:[Object(g.jsx)(f.e,{paddingX:1,children:Object(g.jsx)(f.f,{onClick:i,text:l.a._("Cancel","closeup.pinActionDropdown.deletePinSponsorshipModalCancel","Button label for closing sponsorship removal modal")})}),Object(g.jsx)(f.e,{paddingX:1,children:Object(g.jsx)(b.a,{id:"confirm-delete-pin-sponsorship",children:Object(g.jsx)(m.b,{color:"red",onClick:()=>{(async()=>{if(!a){r(!0);try{await e(o),n(),c()}catch(i){n(),c(i)}}})()},text:l.a._("Remove","closeup.pinActionDropdown.deletePinSponsorshipModalConfirmButton","Button label for removing sponsorship"),submitting:a})})})]}),children:Object(g.jsx)(f.e,{padding:4,children:Object(g.jsx)(f.Y,{align:"center",children:l.a._("This will remove the paid partnership disclosure on this Pin—if you change your mind you’ll have to start again! This won’t delete the Pin or affect who sees it.","closeup.pinActionDropdown.deletePinSponsorshipDescription","Text description for modal that confirms user wants to delete their sponsorship")})})})})),O=i("E/VT"),_=i("7w6Q"),y=i("tkfL");const v=()=>_.a.increment("windows.download.blob.error"),P=(e,n,i)=>{const o=new window.Windows.Storage.Pickers.FileSavePicker;o.suggestedStartLocation=window.Windows.Storage.Pickers.PickerLocationId.picturesLibrary;const{extension:t,extensionName:a,name:r}=(e=>{const n=e.split("/"),i=n[n.length-1],o=i.split(".");if(o.length>1){const e=o.pop();return{extension:"."+e,extensionName:e.toUpperCase(),name:o.join()}}return{extension:".",extensionName:l.a._("Unknown","Label for file picker drop down when the file type is not known","Label for file picker drop down when the file type is not known"),name:i}})(n);o.suggestedFileName=i||r,o.fileTypeChoices.insert(a,[t]),o.pickSaveFileAsync().then(n=>{n&&(window.Windows.Storage.CachedFileManager.deferUpdates(n),n.openAsync(window.Windows.Storage.FileAccessMode.readWrite).then(n=>{const i=e.msDetachStream();window.Windows.Storage.Streams.RandomAccessStream.copyAsync(i,n).then(()=>{n.flushAsync().done(()=>{i.close(),n.close(),_.a.increment("windows.download.blob.success")},v)},v)},v))})};var S=({filename:e,imgSrc:n,category:i})=>{if(!n)return null;return Object(g.jsx)(y.b,{onClick:()=>{((e,n)=>{try{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onreadystatechange=()=>{if(4===i.readyState)if(200!==i.status)_.a.increment("windows.download.blob.nodownload",.1,{status:i.status});else{const o=i.response;P(o,e,n)}},i.send(null)}catch(i){_.a.increment("windows.download.blob.xhrexception",.1,{error:i})}})(n,e)},text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})},D=i("5S2N"),C=i("ESls"),k=i("kmwA");function A(e){const{onDismiss:n,myPin:i}=e,[o,t]=Object(s.useState)(1),a=[{label:l.a._("Small","pinActionDropdown.GetEmbedCodeModal.small","Label on segmented controller for pin embed code, for small width"),width:236},{label:l.a._("Medium","pinActionDropdown.GetEmbedCodeModal.medium","Label on segmented controller for pin embed code, for medium width"),width:345},{label:l.a._("Large","pinActionDropdown.GetEmbedCodeModal.large","Label on segmented controller for pin embed code, for large width"),width:450},{label:l.a._("Extra Large","pinActionDropdown.GetEmbedCodeModal.extra_large","Label on segmented controller for pin embed code, for extra-large width"),width:600}];return Object(g.jsx)(f.y,{children:Object(g.jsxs)(p.b,{accessibilityModalLabel:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.modalLabel","Accessibility label on modal for pin embed code"),heading:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.header","Heading on modal for pin embed code"),onDismiss:n,footer:Object(g.jsx)(f.e,{display:"flex",direction:"row",justifyContent:"end",children:Object(g.jsx)(f.f,{size:"sm",text:l.a._("Got it!","pinActionDropdown.GetEmbedCodeModal.dismissButton","Button to dismiss embed code modal"),onClick:n})}),children:[Object(g.jsx)(f.e,{paddingX:6,paddingY:4,children:Object(g.jsx)(f.O,{items:a.map(e=>e.label),selectedItemIndex:o,onChange:({activeIndex:e})=>{t(e)}})}),Object(g.jsx)(f.e,{paddingX:8,paddingY:6,children:Object(g.jsx)("code",{children:`<iframe src="${k.a.settings.ASSETS_SITE_URL}/ext/embed.html?id=${i.id}" height="${Math.ceil(i.height*a[o].width/i.width+100)}" width="${a[o].width}" frameborder="0" scrolling="no" ></iframe>`})})]})})}var T=i("Xuu2"),L=i("gTC0"),E=i("gSZa"),R=i("hFNL"),I=i("LT60"),M=i("IJsR"),H=i("Sp3T"),B=i("v/Q4"),N=i("eqXv"),U=i("CONZ"),F=i("eUcp"),G=i("vvax"),q=i("0bYG"),W=i("aOj9"),X=i("1Fta"),K=i("DJoW");var Y=Object(c.connect)((function({pins:e,viewer:n},{pinId:i}){return{isFullAuth:n.isAuth&&!n.isLimitedLogin,reduxPin:e[i]}}),e=>({deletePinMention:(n,i)=>e(Object(U.b)(n,i)),showPinFeedbackUndo:(n,i,o)=>e(Object(K.f)(n,i,o)),showPinFeedback:(n,i)=>e(Object(K.a)(n,i)),hidePinFeedback:n=>e(Object(K.b)(n))}))((function({bestPinImgSrc:e,carouselSlotCurrentIndex:n,deletePinMention:i,embedImg:o,goBack:t,hideDownload:a,hidePinFeedback:r,showEmbed:c,isFullAuth:p,onDropdownClick:m,onEditSubmit:b,onReportPin:h,onToggle:_,pinCategory:v,pinDescription:P,pinId:k,pinImgSrc:U,pinTitle:K,reportPin:Y,reduxPin:z,showEditPin:V,showPinFeedback:J,showPinFeedbackUndo:$,showRemoveMention:Q,showRemoveSponsorship:Z,usePortal:ee,viewParameter:ne}){const{showOneToast:ie}=Object(w.b)(),[oe,te]=Object(s.useState)(!1),[ae,re]=Object(s.useState)(!1),[se,ce]=Object(s.useState)(!1),[de,le]=Object(s.useState)(!1),[pe,me]=Object(s.useState)(!1),[be,ue]=Object(s.useState)(!1),he=Object(B.a)(),je=Object(W.e)(),we=Object(s.useRef)(),fe=Object(H.a)(),ge=()=>{te(!1),re(!1)},xe=e=>{Object(j.b)(101,{element:e,component:4,view:3,viewParameter:ne})},Oe=()=>{ge(),ue(!be)},_e=()=>{ge(),me(!pe)},ye=()=>{ge(),fe(()=>{Object(j.b)(101,{element:3,viewParameterType:ne,viewType:3}),ce(!se)})},ve=()=>{de||Object(j.b)(4439,{view:3,viewParameter:156}),te(!1),le(!de)},Pe=()=>{"function"==typeof h&&h(k),Y()},Se=Object(X.a)({i18n:l.a,interpolateNamedTemplate:G.b}),De=l.a._("More options","Accessible label for more options dropdown","Accessible label for more options dropdown"),Ce=void 0,{recommendation_reason:ke,pinner:Ae}=z,Te=Object(T.a)({feedbackOptions:Ce,pin:z,viewParameter:156}),{data:Le}={},Ee=ke&&ke.reason&&q.ReasonToChoose[ke.reason],Re=ke&&Object(X.d)(ke),Ie=ke&&Object(X.e)(ke),Me=Boolean(he.isAuth&&Ae&&Ae.id===he.id),{action:He,actionOptions:Be}=Se.getHidePinAction({feedbackData:Le,feedbackType:Te,pinId:k,recommendationReasonId:Ee,pinFeedbackType:"pfy"===Te?4:10,throughId:Re,throughProperties:Ie,clientTrackingParams:Object(d.a)(k)}),Ne=()=>{re(!0);const e={title:"",subTitle:l.a._("Got it! We won't show you this Pin in the future.","pinActionDropdown.hidePin.confirmation","message displayed after hiding a pin")};Be&&He?$(k,e,Object(X.b)(Be,He,k,3,ne,r,j.b)):J(k,e)},Ue=()=>{xe(982),Object(N.a)(He,Be,Ne)},Fe=()=>{t&&t()};return Object(g.jsxs)(f.e,{flex:"grow",alignItems:"center",display:"flex",children:[Object(g.jsx)(f.e,{ref:we,children:Object(g.jsx)(L.a,{accessibilityLabel:De,icon:"ellipsis",onClick:()=>{_&&_(),"function"==typeof m&&m(),te(!oe),xe(981)}})}),oe&&(()=>{const n=Object(g.jsx)(f.e,{zIndex:F.a,children:Object(g.jsx)(f.I,{anchor:we.current,idealDirection:"down",onDismiss:ge,size:"xs",children:ae?Object(g.jsx)(E.a,{feedbackData:Le,feedbackType:Te,pinId:k,onHide:Fe,recommendationReason:ke,viewParameter:156,viewType:3}):Object(g.jsxs)(y.a,{children:[V&&Object(g.jsx)(y.b,{onClick:ye,text:l.a._("Edit Pin","closeup.pinActionDropDown.editPin","Button allowing user to edit their Pin")}),!a&&"undefined"!=typeof window&&"windows"!==Object(R.b)(window)&&e&&Object(g.jsx)(O.a,{imgSrc:e||"",filename:K||P,category:v,pinId:k,children:e=>Object(g.jsx)(y.b,{onClick:e,text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})}),!a&&"undefined"!=typeof window&&"windows"===Object(R.b)(window)&&(e||U)&&Object(g.jsx)(S,{imgSrc:e||U||"",filename:K||P,category:v}),Z&&Object(g.jsx)(y.b,{onClick:_e,text:l.a._("Remove partnership","closeup.pinActionDropDown.removePartnership","Label to allow removing an existing partnership")}),Object(g.jsx)(C.a,{name:"hfp_web_hide_on_closeup",activate:!0,isEligible:!Me,children:({anyEnabled:e})=>e&&Object(g.jsx)(y.b,{onClick:p?Ue:je,text:l.a._("Hide Pin","closeup.pinActionDropDown.hide","Label for hide pin action")})}),Object(g.jsx)(y.b,{onClick:p?Pe:je,text:l.a._("Report Pin","Label for report pin action","Label for report pin action")}),Q&&Object(g.jsx)(y.b,{onClick:Oe,text:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention","Button that allows user to remove their @mention in the pin's")}),c&&Object(g.jsx)(C.a,{name:"closeup_pin_embed_code",children:({anyEnabled:e})=>e&&Object(g.jsx)(y.b,{onClick:ve,text:l.a._("Get Pin embed code","Label for embed pin action","Label for embed pin action")})})]})})});return ee?Object(g.jsx)(I.a,{children:Object(g.jsx)(f.y,{children:n})}):n})(),de&&Object(g.jsx)(A,{myPin:{id:k,height:o.height,width:o.width},onDismiss:ve}),pe&&Object(g.jsx)(x,{onDeletePinSponsorship:_e,onDismiss:_e,pinId:k}),be&&Object(g.jsx)(M.a,{confirmText:l.a._("Remove","closeup.pinActionDropDown.removeMention.modal","Label for button to confirm removal of the user @mention tag"),dismissText:l.a._("Cancel","closeup.pinActionDropDown.removeMention.modal","Label for button to cancel removal of the user @mention tag"),heading:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention.modal","Heading for confirming user @mention tag removal"),accessibilityLabel:l.a._("Remove @mention tag from Story Pin","closeup.pinActionDropDown.removeMention.modal","Accessibility label for modal removing @mention tag from Story Pin"),onConfirm:()=>{ue(!1),he.isAuth&&(i(k,he.id),Object(j.b)(8909,{view:3,viewParameter:157})),ge(),ie(({onHide:e})=>Object(g.jsx)(u.a,{onHide:e,text:l.a._("@mention removed!","closeup.pinActionDropDown.mentionRemovalToast","Toast that tells user that they have successfully removed the @mention of them in another user's Pin description")}))},onDismiss:Oe,promptText:l.a._("Tags in this Story Pin will no longer link to your profile.","closeup.pinActionDropDown.removeMention.modal","Description for modal removing @mention tag from Story Pin")}),se&&Object(g.jsx)(D.a,{carouselSlotCurrentIndex:n,onHide:()=>{ce(!1)},onSubmit:b,pinId:k})]})})),z=i("OSge"),V=i("QAzJ"),J=i("YxyV"),$=i("7jH2");n.a=({carouselSlotCurrentIndex:e,goBack:n,onDropdownClick:i,onEditSubmit:s,onReportPin:c,pin:d,showEditPin:l=!1,viewParameter:p})=>{var m,b;const u=Object(B.a)(),{pinTitle:h,pinDescription:j,pinCategory:w}=Object(r.a)(d),x=Object($.q)({pin:d}),{video:O}=Object($.y)(x)||{},_=!!O||!!Object($.j)(x);let y;d.images&&(y=d.embed&&"gif"===d.embed.type?d.embed.src:d.images["736x"]&&d.images["736x"].url);const v=!!d.story_pin_data_id,P=Object(J.d)(d),{isPromoted:S}=Object(a.a)(d),D=d.board.privacy===o.a.BoardPrivacy.SECRET,C=!S&&!D,{anyEnabled:k}=Object(V.a)("web_story_pin_at_mentions"),A=k&&u.isAuth&&(null===(m=d.story_pin_data)||void 0===m||null===(b=m.pages)||void 0===b?void 0:b.reduce((e,n)=>{var i;return e||(null===(i=n.blocks)||void 0===i?void 0:i.reduce((e,n)=>e||n.type===z.a.MENTION_STICKER&&n.user_id===u.id&&!1===n.is_removed,!1))},!1)),{sponsorship:T}=d,{creator:L,sponsor:E}=T||{},R=u.isAuth&&!!T&&[L.username,E.username].includes(u.username);return Object(g.jsx)(f.e,{"data-test-id":"pin-action-bar",children:Object(g.jsx)(Y,{carouselSlotCurrentIndex:e,embedImg:Object(J.e)(d,"736x"),showEmbed:C,bestPinImgSrc:P,goBack:n,hideDownload:_||v,onDropdownClick:i,onEditSubmit:s,onReportPin:c,pinCategory:w,pinDescription:j,pinId:d.id,pinImgSrc:y,pinTitle:h,reportPin:Object(t.a)({pin:d,viewParameter:p,viewType:3}),showEditPin:l,showRemoveMention:A,showRemoveSponsorship:R,usePortal:!1,viewParameter:p})})}},Hrat:function(e,n,i){var o=i("yaUg"),t=i("Ye/N");n.a=e=>{const n=e.link_domain||{},i=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,a=e.rich_metadata,r=e.domain,s=e.closeup_attribution||e.native_creator||n.official_user||e.pinner||e.origin_pinner,c=!(!(a&&a.recipe&&a.recipe.name&&a.recipe.categorized_ingredients)||a.recipe.from_aggregated_data);let d,l;a&&a.products&&a.products[0]&&(d=!!(a&&a.name&&a.offer_summary));const p=e.buyable_product,m=d||p,b=!(!a||!a.article),u=!(!a||!a.tutorial),h=!(!s||!s.username);let j=t.a._("Saved from ","Closeup pin annotation","Closeup pin annotation"),w=h?t.a._("Saved by"):t.a._("Saved from"),f=t.a._("Visit");a&&a.products&&a.products[0]&&a&&a.products[0].name&&a.products[0].offer_summary&&(j=t.a._("Product sold by ","pin annotation","pin annotation"),l=a.products[0].offer_summary),m?(w=t.a._("Sold by"),f=t.a._("Visit")):u?(j=t.a._("Saved from ","pin annotation","pin annotation"),w=h?t.a._("Saved by"):t.a._("Saved from"),f=t.a._("Visit")):c?(j=t.a._("Recipe from ","pin annotation","pin annotation"),w=h?t.a._("Recipe by"):t.a._("Recipe from"),f=t.a._("Make it")):b&&(j=t.a._("Article from ","pin annotation","pin annotation"),w=h?t.a._("Article by"):t.a._("Article from"),f=t.a._("Read it"));const g=e.rich_summary;if(!l&&g){let e;g&&g.products&&g.products[0]&&(e=!!(g&&g.products[0].name&&g.products[0].offer_summary),e&&(j=t.a._("Product sold by ","pin annotation","pin annotation")))}let x,O;h?(x="/"+s.username+"/",O=s.full_name):(x="/source/"+r,O=a&&a.site_name||r);return{actionButtonText:f,image:s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,link:x,pinLink:i,pin:e,pinCreditPrefix:j,prefixText:w,subtitle:O,title:Object(o.a)(t.a._("More from {{ subtitle }}"),{subtitle:O}),pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},IJsR:function(e,n,i){i.d(n,"a",(function(){return r}));var o=i("TgLd"),t=i("n6mq"),a=i("nKUr");function r({confirmText:e,dismissText:n,heading:i,accessibilityLabel:r,onConfirm:s,onDismiss:c,promptText:d}){return Object(a.jsx)(o.b,{accessibilityModalLabel:r,onDismiss:c,size:414,heading:i,children:Object(a.jsxs)(t.e,{padding:4,children:[Object(a.jsx)(t.Y,{align:"center",children:d}),Object(a.jsxs)(t.e,{display:"flex",direction:"row",marginStart:-2,marginEnd:-2,marginTop:12,children:[Object(a.jsx)(t.e,{display:"flex",direction:"row",column:6,paddingX:2,children:Object(a.jsx)(t.f,{color:"gray",text:n,onClick:c})}),Object(a.jsx)(t.e,{column:6,paddingX:2,children:Object(a.jsx)(t.f,{color:"red",text:e,onClick:s})})]})]})})}},OPV1:function(e,n,i){var o=i("Ye/N"),t=i("gTC0"),a=i("4cpq"),r=i("dtqy"),s=i("nKUr");n.a=Object(r.a)(({handlePinEditButtonClick:e})=>Object(s.jsx)(a.a,{id:"closeup-pin-edit-button",children:Object(s.jsx)(t.a,{accessibilityLabel:o.a._("Edit","edit button on pin","edit button on pin"),onClick:n=>e&&e(n),icon:"edit"})}))},Pus6:function(e,n,i){var o=i("R6wO"),t=i("qD10"),a=i("n6mq"),r=i("nKUr");n.a=({bold:e,description:n,descriptionColor:i,external:s,hasDividerAfter:c,icon:d,onClick:l,text:p,url:m})=>{const b=Object(r.jsx)(a.e,{role:"listitem",overflow:"hidden",children:Object(r.jsx)(o.a,{bold:e,description:n,descriptionColor:i,icon:d,text:p})});return Object(r.jsxs)(a.e,{children:[m?Object(r.jsx)(t.a,{to:m,external:s,onClick:l,children:b}):Object(r.jsx)(a.X,{fullWidth:!1,onTap:l,children:b}),c&&Object(r.jsx)(a.o,{})]})}},tkfL:function(e,n,i){var o=i("3vRR");i.d(n,"a",(function(){return o.a}));var t=i("Pus6");i.d(n,"b",(function(){return t.a}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/292-5e5e2d2590cd29faa41f.mjs.map